(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[185],{2645:function(e,t,r){Promise.resolve().then(r.t.bind(r,1034,23)),Promise.resolve().then(r.bind(r,3580)),Promise.resolve().then(r.t.bind(r,3054,23)),Promise.resolve().then(r.bind(r,4638)),Promise.resolve().then(r.bind(r,2383))},2383:function(e,t,r){"use strict";r.d(t,{default:function(){return u}});var n=r(7437),o=r(2265),l=r(7138),s=r(6463),a=r(6648),i={src:"/_next/static/media/logo.b0d6d7be.png",height:740,width:740,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAVFBMVEX////+/v7+/f79/f38/Pz7+/v6+/j2+fL2+fH39/j39/f29/f29vbz+O719fbz8/Pw8PHw8PDt8enn8drj7djj7dbh4uHg4OHY19rV1dbRz9bMzM1tnJ/NAAAAOUlEQVR42i2IRw4AIQCEmNXtvVv+/08TlQMkIARV/Vra3c+Y3/CGE4Fprs8aYI/u9wdgl3naWhAZJTGVAY3t1/WQAAAAAElFTkSuQmCC",blurWidth:8,blurHeight:8},c=r(4638),u=()=>{let e=(0,s.useRouter)(),[t,r]=(0,o.useState)(!1),[u,d]=(0,o.useState)(0),[f,h]=(0,o.useState)(!1),{user:m,updateUser:x}=(0,c.K)();(0,o.useEffect)(()=>{let e=localStorage.getItem("cartCount");e&&d(parseInt(e))},[]);let g=()=>{h(!1)},p=()=>{localStorage.removeItem("loggedIn"),x(null),localStorage.removeItem("jwt"),e.push("/login")};return(0,n.jsx)("header",{className:"text-white body-font fixed font-bold bg-transparent backdrop-blur z-10 w-full",children:(0,n.jsxs)("div",{className:"container flex flex-wrap py-[20px] px-[20px] md:px-[100px] flex-col md:flex-row items-center justify-between",children:[(0,n.jsxs)("div",{className:"flex items-center justify-between w-full md:w-auto",children:[(0,n.jsx)(l.default,{href:"/",className:"title-font font-medium text-gray-900 mb-4 md:mb-0",children:(0,n.jsx)(a.default,{className:"rounded-full",src:i,width:"50",alt:"Logo"})}),(0,n.jsx)("button",{className:"inline-flex items-center md:hidden text-white focus:outline-none",onClick:()=>h(!f),children:(0,n.jsx)("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",className:"w-6 h-6",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{d:"M4 6h16M4 12h16M4 18h16"})})})]}),(0,n.jsxs)("nav",{className:"md:ml-auto flex flex-col md:flex-row items-center text-base justify-center ".concat(f?"block":"hidden"," md:block w-full md:w-auto"),children:[(0,n.jsx)(l.default,{onClick:g,href:"/",className:"mr-5 hover:text-gray-500 py-2",children:"HOME"}),(0,n.jsx)(l.default,{onClick:g,href:"#contact",className:"mr-5 hover:text-gray-500 py-2",children:"CONTACT"}),(0,n.jsx)(l.default,{onClick:g,href:"/createproduct",className:"mr-5 hover:text-gray-500 py-2",children:"SELL"}),m?(0,n.jsxs)("button",{onClick:()=>{p(),g()},className:"inline-flex items-center text-black bg-[#cfff13] border-0 py-1 px-3 focus:outline-none hover:bg-gray-200 rounded text-base mt-4 md:mt-0",children:["LOGOUT",(0,n.jsx)("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",className:"w-4 h-4 ml-1",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{d:"M5 12h14M12 5l7 7-7 7"})})]}):(0,n.jsxs)("button",{onClick:()=>e.push("/login"),className:"inline-flex items-center bg-[#cfff13] text-black border-0 py-1 px-3 focus:outline-none rounded text-base mt-4 md:mt-0",children:["LOGIN",(0,n.jsx)("svg",{fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",className:"w-4 h-4 ml-1",viewBox:"0 0 24 24",children:(0,n.jsx)("path",{d:"M5 12h14M12 5l7 7-7 7"})})]})]})]})})}},4638:function(e,t,r){"use strict";r.d(t,{K:function(){return a},UserProvider:function(){return i}});var n=r(7437),o=r(6463),l=r(2265);let s=(0,l.createContext)(null),a=()=>(0,l.useContext)(s),i=e=>{let{children:t}=e,[r,a]=(0,l.useState)(null),i=(0,o.useRouter)(),c=(0,o.usePathname)(),u=()=>localStorage.getItem("jwt"),d=async()=>{try{let e=u();if(!e&&"/login"!==c&&"/register"!==c){i.push("/login");return}let t=await fetch("".concat("https://wastepursur.onrender.com","/api/user/me"),{method:"GET",headers:{Authorization:"".concat(e)}});if(t.ok){let e=await t.json();a(e),localStorage.setItem("loggedIn","true"),"/login"==c||"/register"==c?i.push("/"):i.push(c)}else f()}catch(e){console.error("Error fetching user:",e),f()}};(0,l.useEffect)(()=>{d()},[c]),(0,l.useEffect)(()=>{let e=async e=>{try{if((await fetch("your-token-verification-url",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(e)}})).ok)return!0;return!1}catch(e){return console.error("Error verifying token:",e),!1}},t=u();t&&!e(t)&&(a(null),localStorage.removeItem("jwt"),i.push("/login"))},[]);let f=()=>{a(null),localStorage.removeItem("jwt"),localStorage.removeItem("loggedIn")};return(0,n.jsx)(s.Provider,{value:{user:r,login:e=>{a(e),console.log(e,"userData+++"),localStorage.setItem("jwt",e.token||""),i.push("/home")},logout:f,checkLocalStorage:u,updateUser:e=>{a(e)}},children:t})}},3054:function(){},1034:function(e){e.exports={style:{fontFamily:"'__Inter_aaf875', '__Inter_Fallback_aaf875'",fontStyle:"normal"},className:"__className_aaf875"}}},function(e){e.O(0,[6,291,648,580,971,23,744],function(){return e(e.s=2645)}),_N_E=e.O()}]);