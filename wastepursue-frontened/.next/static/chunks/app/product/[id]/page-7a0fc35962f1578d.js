(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[188],{3782:function(e,t,r){Promise.resolve().then(r.bind(r,2682))},2682:function(e,t,r){"use strict";r.r(t);var l=r(7437),o=r(6463),n=r(2265),a=r(6648),s=r(8472),c=r(7138);t.default=()=>{let[e,t]=(0,n.useState)(null),[r,i]=(0,n.useState)(!1),{id:d}=(0,o.useParams)(),u=(0,o.useRouter)(),h=e=>{try{let[t,r]=e.split(".");if(!t||!r)throw Error("Invalid JWT token format");let l=atob(r);return JSON.parse(l)}catch(e){return console.error("Error decoding JWT token:",e.message),null}};(0,n.useEffect)(()=>{},[d]);let m=async()=>{let t=h(localStorage.getItem("jwt")||"");if(!(null==t?void 0:t.userId)){console.error("User ID not found in local storage.");return}try{await s.Z.post("".concat("https://wastepursur.onrender.com","/api/cart/addtocart/").concat(t.userId,"/").concat(e._id)),i(!0),u.push("/addcart")}catch(e){console.error("Error adding product to cart:",e)}};return e&&(0,l.jsx)("section",{className:"text-gray-600 body-font overflow-hidden bg-[#060b27]",children:(0,l.jsx)("div",{className:"container px-5 py-24 mx-auto",children:(0,l.jsxs)("div",{className:"lg:w-4/5 mx-auto flex flex-wrap",children:[(0,l.jsx)(a.default,{alt:e.name,className:"lg:w-1/2 w-full lg:h-auto h-64 object-cover object-center rounded",src:e.url,width:300,height:200}),(0,l.jsxs)("div",{className:"lg:w-1/2 w-full lg:pl-10 lg:py-6 mt-6 lg:mt-0",children:[(0,l.jsx)("h1",{className:"text-3xl text-white title-font font-medium mb-1",children:e.name}),(0,l.jsx)("p",{className:"leading-relaxed mb-4",children:e.description}),(0,l.jsxs)("div",{className:"flex",children:[(0,l.jsxs)("span",{className:"title-font font-medium text-2xl text-white",children:["$",e.price]}),(0,l.jsx)("button",{onClick:m,className:"bg-indigo-500 hover:bg-indigo-600 text-white font-bold py-2 px-4 ml-3 rounded",children:"Add to Cart"}),(0,l.jsx)(c.default,{href:"/pay",className:"bg-indigo-500 hover:bg-indigo-600 text-white font-bold py-2 px-4 ml-3 rounded",children:"Buy Now"})]})]})]})})})}}},function(e){e.O(0,[291,472,648,971,23,744],function(){return e(e.s=3782)}),_N_E=e.O()}]);